{"ast":null,"code":"var _jsxFileName = \"/home/jederson/trybe/project-recipes/src/pages/ExploreByOrigin.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useLocation, useHistory, Link } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport ContextRecipes from '../context/ContextRecipes';\n\nfunction ExploreByOrigin() {\n  const location = useLocation().pathname;\n  const history = useHistory();\n  const [data, setData] = useState([]);\n  const {\n    setRecipes,\n    recipes\n  } = useContext(ContextRecipes);\n  const MAX_NUMBER_OF_CARDS = 12;\n\n  const fetchRecipes = async endPoint => {\n    const apiRequest = await fetch(endPoint);\n    const response = await apiRequest.json();\n    const recipesApi = response.meals;\n    setRecipes(recipesApi);\n  };\n\n  const apiOrigin = async () => {\n    if (location.includes('comidas')) {\n      const apiRequest = await fetch('https://www.themealdb.com/api/json/v1/1/list.php?a=list');\n      const response = await apiRequest.json();\n      setData(response.meals);\n    } else {\n      history.push('/explorar/bebidas/area');\n    }\n  };\n\n  useEffect(() => {\n    fetchRecipes('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n    apiOrigin();\n  }, []);\n\n  const handleFetchRecipes = () => {\n    const areaDropdown = document.getElementById('area-dropdown');\n    const {\n      value\n    } = areaDropdown.options[areaDropdown.selectedIndex];\n    const endPoint = `https://www.themealdb.com/api/json/v1/1/filter.php?a=${value}`;\n\n    if (value === 'all') {\n      fetchRecipes('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n    } else {\n      fetchRecipes(endPoint);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, location.includes('comidas') ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"Explorar Origem\",\n    showSearchIcon: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    \"data-testid\": \"explore-by-area-dropdown\",\n    onChange: handleFetchRecipes,\n    id: \"area-dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"all\",\n    \"data-testid\": \"All-option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, \"All\"), data.map((foodsArea, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: foodsArea.strArea,\n    \"data-testid\": `${foodsArea.strArea}-option`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, foodsArea.strArea)))), recipes.map((recipe, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    id: recipe.idMeal,\n    \"data-testid\": `${index}-recipe-card`,\n    onClick: () => history.push(`/comidas/${recipe.idMeal}`),\n    onKeyPress: () => history.push(`/comidas/${recipe.idMeal}`),\n    role: \"button\",\n    tabIndex: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${index}-card-name`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, recipe.strMeal), /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${index}-card-img`,\n    src: recipe.strMealThumb,\n    alt: `${index}-food`,\n    \"aria-hidden\": \"true\",\n    width: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }))).filter((_, index) => index < MAX_NUMBER_OF_CARDS), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"Not Found\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/explorar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \"Voltar\")));\n}\n\nexport default ExploreByOrigin;","map":{"version":3,"sources":["/home/jederson/trybe/project-recipes/src/pages/ExploreByOrigin.js"],"names":["React","useState","useEffect","useContext","useLocation","useHistory","Link","Footer","Header","ContextRecipes","ExploreByOrigin","location","pathname","history","data","setData","setRecipes","recipes","MAX_NUMBER_OF_CARDS","fetchRecipes","endPoint","apiRequest","fetch","response","json","recipesApi","meals","apiOrigin","includes","push","handleFetchRecipes","areaDropdown","document","getElementById","value","options","selectedIndex","map","foodsArea","index","strArea","recipe","idMeal","strMeal","strMealThumb","filter","_"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useLocation, useHistory, Link } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport ContextRecipes from '../context/ContextRecipes';\n\nfunction ExploreByOrigin() {\n  const location = useLocation().pathname;\n  const history = useHistory();\n  const [data, setData] = useState([]);\n  const { setRecipes, recipes } = useContext(ContextRecipes);\n  const MAX_NUMBER_OF_CARDS = 12;\n\n  const fetchRecipes = async (endPoint) => {\n    const apiRequest = await fetch(endPoint);\n    const response = await apiRequest.json();\n    const recipesApi = response.meals;\n    setRecipes(recipesApi);\n  };\n\n  const apiOrigin = async () => {\n    if (location.includes('comidas')) {\n      const apiRequest = await fetch('https://www.themealdb.com/api/json/v1/1/list.php?a=list');\n      const response = await apiRequest.json();\n      setData(response.meals);\n    } else {\n      history.push('/explorar/bebidas/area');\n    }\n  };\n\n  useEffect(() => {\n    fetchRecipes('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n    apiOrigin();\n  }, []);\n\n  const handleFetchRecipes = () => {\n    const areaDropdown = document.getElementById('area-dropdown');\n    const { value } = areaDropdown.options[areaDropdown.selectedIndex];\n    const endPoint = `https://www.themealdb.com/api/json/v1/1/filter.php?a=${value}`;\n    if (value === 'all') {\n      fetchRecipes('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n    } else {\n      fetchRecipes(endPoint);\n    }\n  };\n\n  return (\n    <div>\n      { location.includes('comidas') ? (\n        <div>\n          <Header title=\"Explorar Origem\" showSearchIcon />\n          <div>\n            <select\n              data-testid=\"explore-by-area-dropdown\"\n              onChange={ handleFetchRecipes }\n              id=\"area-dropdown\"\n            >\n              <option value=\"all\" data-testid=\"All-option\">All</option>\n              { data.map((foodsArea, index) => (\n                <option\n                  key={ index }\n                  value={ foodsArea.strArea }\n                  data-testid={ `${foodsArea.strArea}-option` }\n                >\n                  { foodsArea.strArea }\n                </option>\n              ))}\n            </select>\n          </div>\n          { recipes.map((recipe, index) => (\n            <div\n              key={ index }\n              id={ recipe.idMeal }\n              data-testid={ `${index}-recipe-card` }\n              onClick={ () => history.push(`/comidas/${recipe.idMeal}`) }\n              onKeyPress={ () => history.push(`/comidas/${recipe.idMeal}`) }\n              role=\"button\"\n              tabIndex=\"0\"\n            >\n              <p data-testid={ `${index}-card-name` }>{ recipe.strMeal }</p>\n              <img\n                data-testid={ `${index}-card-img` }\n                src={ recipe.strMealThumb }\n                alt={ `${index}-food` }\n                aria-hidden=\"true\"\n                width=\"100px\"\n              />\n            </div>\n          )).filter((_, index) => index < MAX_NUMBER_OF_CARDS) }\n          <Footer />\n        </div>\n      ) : (\n        <div>\n          <h1>Not Found</h1>\n          <Link to=\"/explorar\">Voltar</Link>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ExploreByOrigin;\n"]},"metadata":{},"sourceType":"module"}