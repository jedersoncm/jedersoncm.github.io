{"ast":null,"code":"var _jsxFileName = \"/home/jederson/trybe/project-recipes/src/pages/RecipeDetails.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useLocation, useHistory, useParams } from 'react-router-dom';\nimport ContextRecipes from '../context/ContextRecipes';\nimport { fetchAPIDrinks, fetchAPIRecipes } from '../services';\nimport shareIcon from \"../images/shareIcon.svg\";\nimport whiteHeartIcon from \"../images/whiteHeartIcon.svg\";\nimport blackHeartIcon from \"../images/blackHeartIcon.svg\";\nimport '../styles/details.css';\n\nfunction RecipeDetails() {\n  const {\n    recipes,\n    setRecipes,\n    recipeStarted,\n    setRecipeStart\n  } = useContext(ContextRecipes);\n  const [singleRecipe, setSingleRecipe] = useState([]);\n  const [isFetching, setFetching] = useState(true);\n  const [favoriteRecipe, setFavoriteRecipe] = useState(false);\n  const location = useLocation().pathname;\n  const history = useHistory();\n  const {\n    idRecipe\n  } = useParams();\n  const localStorageFavs = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  const localStorageProgress = JSON.parse(localStorage.getItem('inProgressRecipes'));\n\n  const fetchDetailedRecipe = async () => {\n    if (location.includes('comidas')) {\n      const data = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${idRecipe}`);\n      const responseJSON = await data.json();\n      const mealRecipe = responseJSON.meals;\n      setSingleRecipe(mealRecipe[0]);\n      const recipesRecomend = await fetchAPIDrinks('name', '');\n      setRecipes(recipesRecomend);\n\n      if (localStorageFavs) {\n        localStorageFavs.forEach(item => {\n          if (item.id === mealRecipe[0].idMeal) {\n            setFavoriteRecipe(true);\n          }\n        });\n      }\n\n      if (localStorageProgress && localStorageProgress.meals) {\n        Object.keys(localStorageProgress.meals).forEach(item => {\n          if (item === mealRecipe[0].idMeal) {\n            setRecipeStart(true);\n          }\n        });\n      }\n    } else {\n      const data = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${idRecipe}`);\n      const responseJSON = await data.json();\n      const drinkRecipe = responseJSON.drinks;\n      setSingleRecipe(drinkRecipe[0]);\n      const recipesRecomend = await fetchAPIRecipes('name', '');\n      setRecipes(recipesRecomend);\n\n      if (localStorageFavs) {\n        localStorageFavs.forEach(item => {\n          if (item.id === drinkRecipe[0].idDrink) {\n            setFavoriteRecipe(true);\n          }\n        });\n      }\n\n      if (localStorageProgress && localStorageProgress.cocktails) {\n        Object.keys(localStorageProgress.cocktails).forEach(item => {\n          if (item === drinkRecipe[0].idDrink) {\n            setRecipeStart(true);\n          }\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    setFetching(true);\n    fetchDetailedRecipe();\n    setFetching(false);\n  }, []);\n\n  const handleFavoriteRecipes = () => {\n    let newFavRecipe = {};\n\n    if (location.includes('comidas')) {\n      newFavRecipe = {\n        id: singleRecipe.idMeal,\n        type: 'comida',\n        area: singleRecipe.strArea,\n        category: singleRecipe.strCategory,\n        alcoholicOrNot: '',\n        name: singleRecipe.strMeal,\n        image: singleRecipe.strMealThumb\n      };\n    } else {\n      newFavRecipe = {\n        id: singleRecipe.idDrink,\n        type: 'bebida',\n        area: '',\n        category: singleRecipe.strCategory,\n        alcoholicOrNot: singleRecipe.strAlcoholic,\n        name: singleRecipe.strDrink,\n        image: singleRecipe.strDrinkThumb\n      };\n    }\n\n    if (!favoriteRecipe) {\n      if (!localStorageFavs) {\n        localStorage.setItem('favoriteRecipes', JSON.stringify([newFavRecipe]));\n      } else {\n        localStorage.setItem('favoriteRecipes', JSON.stringify([...localStorageFavs, newFavRecipe]));\n      }\n\n      setFavoriteRecipe(true);\n    } else {\n      localStorageFavs.forEach((item, index) => {\n        if (item.id === newFavRecipe.id) {\n          localStorageFavs.splice(index, 1);\n          localStorage.setItem('favoriteRecipes', JSON.stringify(localStorageFavs));\n        }\n      });\n      setFavoriteRecipe(false);\n    }\n  };\n\n  const renderIngredients = recipeData => {\n    const arrayIngredients = [];\n    const maxIngredients = 20;\n\n    for (let index = 1; index <= maxIngredients; index += 1) {\n      if (recipeData[`strIngredient${index}`] !== '' && recipeData[`strIngredient${index}`] !== null && recipeData[`strIngredient${index}`] !== undefined) {\n        arrayIngredients.push({\n          ingredient: recipeData[`strIngredient${index}`],\n          measure: recipeData[`strMeasure${index}`]\n        });\n      }\n    }\n\n    return arrayIngredients;\n  };\n\n  const maxCards = 6;\n  const allIngredients = renderIngredients(singleRecipe);\n\n  const handleProgressRecipes = () => {\n    if (!recipeStarted) {\n      if (location.includes('comidas')) {\n        if (!localStorageProgress) {\n          localStorage.setItem('inProgressRecipes', JSON.stringify({\n            meals: {\n              [singleRecipe.idMeal]: allIngredients\n            }\n          }));\n        } else {\n          localStorage.setItem('inProgressRecipes', JSON.stringify({ ...localStorageProgress,\n            meals: { ...localStorageProgress.meals,\n              [singleRecipe.idMeal]: allIngredients\n            }\n          }));\n        }\n      } else if (!localStorageProgress) {\n        localStorage.setItem('inProgressRecipes', JSON.stringify({\n          cocktails: {\n            [singleRecipe.idDrink]: allIngredients\n          }\n        }));\n      } else {\n        localStorage.setItem('inProgressRecipes', JSON.stringify({ ...localStorageProgress,\n          cocktails: { ...localStorageProgress.cocktails,\n            [singleRecipe.idDrink]: allIngredients\n          }\n        }));\n      }\n    }\n\n    history.push(`${location}/in-progress`);\n  };\n\n  const handleShareIcon = () => {\n    const zero = 0;\n    const menosUm = -1;\n    let fullPath = '';\n\n    if (location.substr(location.length - 1) === '/') {\n      fullPath = `http://localhost:3000${location.slice(zero, menosUm)}`;\n    } else {\n      fullPath = `http://localhost:3000${location}`;\n    }\n\n    const tempElement = document.createElement('textarea');\n    tempElement.value = fullPath;\n    tempElement.setAttribute('readonly', '');\n    tempElement.style.position = 'absolute';\n    tempElement.style.left = '-9999px';\n    document.body.appendChild(tempElement);\n    tempElement.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempElement);\n    const linkCopy = document.createElement('p');\n    linkCopy.innerHTML = 'Link copiado!';\n    document.querySelector('.icons-area').appendChild(linkCopy);\n  };\n\n  const handleRecomendatioNRecipes = async ({\n    target\n  }) => {\n    if (target.alt === 'food') {\n      console.log(target.alt);\n      history.push(`/comidas/${target.id}`);\n    } else {\n      console.log(target.alt);\n      history.push(`/bebidas/${target.id}`);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }, isFetching ? /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 23\n    }\n  }, \"Carregando receita...\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, location.includes('comidas') ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: singleRecipe.strMealThumb,\n    className: \"img-card-details\",\n    alt: \"food\",\n    \"data-testid\": \"recipe-photo\" // className=\"box-card\"\n    ,\n    width: \"200px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 17\n    }\n  }, singleRecipe.strMeal), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 19\n    }\n  }, singleRecipe.strCategory), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"icons-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: shareIcon,\n    alt: \"Share\",\n    \"data-testid\": \"share-btn\",\n    id: \"share-btn\",\n    onClick: handleShareIcon,\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: favoriteRecipe ? blackHeartIcon : whiteHeartIcon,\n    alt: \"Favorite\",\n    \"data-testid\": \"favorite-btn\",\n    onClick: handleFavoriteRecipes,\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 17\n    }\n  }, \" Ingredients \"), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"ingredients-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }, allIngredients.map((ingredient, index) => /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${index}-ingredient-name-and-measure`,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  }, `- ${ingredient.ingredient}: ${ingredient.measure === null ? 'a gosto' : ingredient.measure}`))), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  }, \" Instructions \"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    className: \"ingredients-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 17\n    }\n  }, singleRecipe.strInstructions), /*#__PURE__*/React.createElement(\"video\", {\n    \"data-testid\": \"video\",\n    width: \"320\",\n    height: \"240\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"track\", {\n    default: true,\n    kind: \"captions\",\n    srcLang: \"pt-br\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"source\", {\n    src: singleRecipe.strYoutube,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, \"Recomenda\\xE7\\xF5es:\", recipes.map((recipe, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    \"data-testid\": `${index}-recomendation-card`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 23\n    }\n  }, recipe.strAlcoholic), /*#__PURE__*/React.createElement(\"h4\", {\n    \"data-testid\": `${index}-recomendation-title`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 23\n    }\n  }, recipe.strDrink), /*#__PURE__*/React.createElement(\"img\", {\n    src: recipe.strDrinkThumb,\n    alt: \"drink\",\n    width: \"50px\",\n    id: recipe.idDrink,\n    onClick: handleRecomendatioNRecipes,\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 23\n    }\n  }))).filter((_, index) => index < maxCards))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-grink\",\n    src: singleRecipe.strDrinkThumb,\n    alt: \"drink\",\n    \"data-testid\": \"recipe-photo\",\n    width: \"200px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"icons-area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: shareIcon,\n    alt: \"Share\",\n    \"data-testid\": \"share-btn\",\n    id: \"share-btn\",\n    onClick: handleShareIcon,\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: favoriteRecipe ? blackHeartIcon : whiteHeartIcon,\n    alt: \"Favorite\",\n    \"data-testid\": \"favorite-btn\",\n    onClick: handleFavoriteRecipes,\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 17\n    }\n  }, singleRecipe.strDrink), /*#__PURE__*/React.createElement(\"h4\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 17\n    }\n  }, singleRecipe.strAlcoholic), allIngredients.map((ingredient, index) => /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${index}-ingredient-name-and-measure`,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 19\n    }\n  }, `${ingredient.ingredient}: ${ingredient.measure === null ? 'a gosto' : ingredient.measure}`)), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 17\n    }\n  }, singleRecipe.strInstructions), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 17\n    }\n  }, \"Recomenda\\xE7\\xF5es:\", recipes.map((recipe, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    \"data-testid\": `${index}-recomendation-card`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 23\n    }\n  }, recipe.strCategory), /*#__PURE__*/React.createElement(\"h4\", {\n    \"data-testid\": `${index}-recomendation-title`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 23\n    }\n  }, recipe.strMeal), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"recipe-food\",\n    src: recipe.strMealThumb,\n    alt: \"food\",\n    id: recipe.idMeal,\n    width: \"50px\",\n    onClick: handleRecomendatioNRecipes,\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 23\n    }\n  }))).filter((_, index) => index < maxCards))), /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"start-recipe-btn\",\n    className: \"footer\",\n    onClick: handleProgressRecipes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 15\n    }\n  }, recipeStarted ? 'Continuar Receita' : 'Iniciar Receita'))));\n}\n\nexport default RecipeDetails;","map":{"version":3,"sources":["/home/jederson/trybe/project-recipes/src/pages/RecipeDetails.js"],"names":["React","useContext","useEffect","useState","useLocation","useHistory","useParams","ContextRecipes","fetchAPIDrinks","fetchAPIRecipes","RecipeDetails","recipes","setRecipes","recipeStarted","setRecipeStart","singleRecipe","setSingleRecipe","isFetching","setFetching","favoriteRecipe","setFavoriteRecipe","location","pathname","history","idRecipe","localStorageFavs","JSON","parse","localStorage","getItem","localStorageProgress","fetchDetailedRecipe","includes","data","fetch","responseJSON","json","mealRecipe","meals","recipesRecomend","forEach","item","id","idMeal","Object","keys","drinkRecipe","drinks","idDrink","cocktails","handleFavoriteRecipes","newFavRecipe","type","area","strArea","category","strCategory","alcoholicOrNot","name","strMeal","image","strMealThumb","strAlcoholic","strDrink","strDrinkThumb","setItem","stringify","index","splice","renderIngredients","recipeData","arrayIngredients","maxIngredients","undefined","push","ingredient","measure","maxCards","allIngredients","handleProgressRecipes","handleShareIcon","zero","menosUm","fullPath","substr","length","slice","tempElement","document","createElement","value","setAttribute","style","position","left","body","appendChild","select","execCommand","removeChild","linkCopy","innerHTML","querySelector","handleRecomendatioNRecipes","target","alt","console","log","shareIcon","blackHeartIcon","whiteHeartIcon","map","strInstructions","strYoutube","recipe","filter","_"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,SAAlC,QAAmD,kBAAnD;AACA,OAAOC,cAAP,MAA2B,2BAA3B;AACA,SAASC,cAAT,EAAyBC,eAAzB,QAAgD,aAAhD;;;;AAIA,OAAO,uBAAP;;AAEA,SAASC,aAAT,GAAyB;AACvB,QAAM;AACJC,IAAAA,OADI;AAEJC,IAAAA,UAFI;AAGJC,IAAAA,aAHI;AAIJC,IAAAA;AAJI,MAKFb,UAAU,CAACM,cAAD,CALd;AAMA,QAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACc,UAAD,EAAaC,WAAb,IAA4Bf,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACgB,cAAD,EAAiBC,iBAAjB,IAAsCjB,QAAQ,CAAC,KAAD,CAApD;AACA,QAAMkB,QAAQ,GAAGjB,WAAW,GAAGkB,QAA/B;AACA,QAAMC,OAAO,GAAGlB,UAAU,EAA1B;AACA,QAAM;AAAEmB,IAAAA;AAAF,MAAelB,SAAS,EAA9B;AACA,QAAMmB,gBAAgB,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAzB;AACA,QAAMC,oBAAoB,GAAGJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAAX,CAA7B;;AAEA,QAAME,mBAAmB,GAAG,YAAY;AACtC,QAAIV,QAAQ,CAACW,QAAT,CAAkB,SAAlB,CAAJ,EAAkC;AAChC,YAAMC,IAAI,GAAG,MAAMC,KAAK,CAAE,wDAAuDV,QAAS,EAAlE,CAAxB;AACA,YAAMW,YAAY,GAAG,MAAMF,IAAI,CAACG,IAAL,EAA3B;AACA,YAAMC,UAAU,GAAGF,YAAY,CAACG,KAAhC;AACAtB,MAAAA,eAAe,CAACqB,UAAU,CAAC,CAAD,CAAX,CAAf;AACA,YAAME,eAAe,GAAG,MAAM/B,cAAc,CAAC,MAAD,EAAS,EAAT,CAA5C;AACAI,MAAAA,UAAU,CAAC2B,eAAD,CAAV;;AACA,UAAId,gBAAJ,EAAsB;AACpBA,QAAAA,gBAAgB,CAACe,OAAjB,CAA0BC,IAAD,IAAU;AACjC,cAAIA,IAAI,CAACC,EAAL,KAAYL,UAAU,CAAC,CAAD,CAAV,CAAcM,MAA9B,EAAsC;AACpCvB,YAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD;AACF,SAJD;AAKD;;AAED,UAAIU,oBAAoB,IAAIA,oBAAoB,CAACQ,KAAjD,EAAwD;AACtDM,QAAAA,MAAM,CAACC,IAAP,CAAYf,oBAAoB,CAACQ,KAAjC,EAAwCE,OAAxC,CAAiDC,IAAD,IAAU;AACxD,cAAIA,IAAI,KAAKJ,UAAU,CAAC,CAAD,CAAV,CAAcM,MAA3B,EAAmC;AACjC7B,YAAAA,cAAc,CAAC,IAAD,CAAd;AACD;AACF,SAJD;AAKD;AACF,KAtBD,MAsBO;AACL,YAAMmB,IAAI,GAAG,MAAMC,KAAK,CAAE,4DAA2DV,QAAS,EAAtE,CAAxB;AACA,YAAMW,YAAY,GAAG,MAAMF,IAAI,CAACG,IAAL,EAA3B;AACA,YAAMU,WAAW,GAAGX,YAAY,CAACY,MAAjC;AACA/B,MAAAA,eAAe,CAAC8B,WAAW,CAAC,CAAD,CAAZ,CAAf;AACA,YAAMP,eAAe,GAAG,MAAM9B,eAAe,CAAC,MAAD,EAAS,EAAT,CAA7C;AACAG,MAAAA,UAAU,CAAC2B,eAAD,CAAV;;AACA,UAAId,gBAAJ,EAAsB;AACpBA,QAAAA,gBAAgB,CAACe,OAAjB,CAA0BC,IAAD,IAAU;AACjC,cAAIA,IAAI,CAACC,EAAL,KAAYI,WAAW,CAAC,CAAD,CAAX,CAAeE,OAA/B,EAAwC;AACtC5B,YAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD;AACF,SAJD;AAKD;;AAED,UAAIU,oBAAoB,IAAIA,oBAAoB,CAACmB,SAAjD,EAA4D;AAC1DL,QAAAA,MAAM,CAACC,IAAP,CAAYf,oBAAoB,CAACmB,SAAjC,EAA4CT,OAA5C,CAAqDC,IAAD,IAAU;AAC5D,cAAIA,IAAI,KAAKK,WAAW,CAAC,CAAD,CAAX,CAAeE,OAA5B,EAAqC;AACnClC,YAAAA,cAAc,CAAC,IAAD,CAAd;AACD;AACF,SAJD;AAKD;AACF;AACF,GA9CD;;AAgDAZ,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,WAAW,CAAC,IAAD,CAAX;AACAa,IAAAA,mBAAmB;AACnBb,IAAAA,WAAW,CAAC,KAAD,CAAX;AACD,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMgC,qBAAqB,GAAG,MAAM;AAClC,QAAIC,YAAY,GAAG,EAAnB;;AACA,QAAI9B,QAAQ,CAACW,QAAT,CAAkB,SAAlB,CAAJ,EAAkC;AAChCmB,MAAAA,YAAY,GAAG;AACbT,QAAAA,EAAE,EAAE3B,YAAY,CAAC4B,MADJ;AAEbS,QAAAA,IAAI,EAAE,QAFO;AAGbC,QAAAA,IAAI,EAAEtC,YAAY,CAACuC,OAHN;AAIbC,QAAAA,QAAQ,EAAExC,YAAY,CAACyC,WAJV;AAKbC,QAAAA,cAAc,EAAE,EALH;AAMbC,QAAAA,IAAI,EAAE3C,YAAY,CAAC4C,OANN;AAObC,QAAAA,KAAK,EAAE7C,YAAY,CAAC8C;AAPP,OAAf;AASD,KAVD,MAUO;AACLV,MAAAA,YAAY,GAAG;AACbT,QAAAA,EAAE,EAAE3B,YAAY,CAACiC,OADJ;AAEbI,QAAAA,IAAI,EAAE,QAFO;AAGbC,QAAAA,IAAI,EAAE,EAHO;AAIbE,QAAAA,QAAQ,EAAExC,YAAY,CAACyC,WAJV;AAKbC,QAAAA,cAAc,EAAE1C,YAAY,CAAC+C,YALhB;AAMbJ,QAAAA,IAAI,EAAE3C,YAAY,CAACgD,QANN;AAObH,QAAAA,KAAK,EAAE7C,YAAY,CAACiD;AAPP,OAAf;AASD;;AACD,QAAI,CAAC7C,cAAL,EAAqB;AACnB,UAAI,CAACM,gBAAL,EAAuB;AACrBG,QAAAA,YAAY,CAACqC,OAAb,CAAqB,iBAArB,EAAwCvC,IAAI,CAACwC,SAAL,CAAe,CAACf,YAAD,CAAf,CAAxC;AACD,OAFD,MAEO;AACLvB,QAAAA,YAAY,CAACqC,OAAb,CAAqB,iBAArB,EACEvC,IAAI,CAACwC,SAAL,CAAe,CAAC,GAAGzC,gBAAJ,EAAsB0B,YAAtB,CAAf,CADF;AAED;;AACD/B,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,KARD,MAQO;AACLK,MAAAA,gBAAgB,CAACe,OAAjB,CAAyB,CAACC,IAAD,EAAO0B,KAAP,KAAiB;AACxC,YAAI1B,IAAI,CAACC,EAAL,KAAYS,YAAY,CAACT,EAA7B,EAAiC;AAC/BjB,UAAAA,gBAAgB,CAAC2C,MAAjB,CAAwBD,KAAxB,EAA+B,CAA/B;AACAvC,UAAAA,YAAY,CAACqC,OAAb,CAAqB,iBAArB,EAAwCvC,IAAI,CAACwC,SAAL,CAAezC,gBAAf,CAAxC;AACD;AACF,OALD;AAMAL,MAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD;AACF,GAxCD;;AA0CA,QAAMiD,iBAAiB,GAAIC,UAAD,IAAgB;AACxC,UAAMC,gBAAgB,GAAG,EAAzB;AACA,UAAMC,cAAc,GAAG,EAAvB;;AAEA,SAAK,IAAIL,KAAK,GAAG,CAAjB,EAAoBA,KAAK,IAAIK,cAA7B,EAA6CL,KAAK,IAAI,CAAtD,EAAyD;AACvD,UAAIG,UAAU,CAAE,gBAAeH,KAAM,EAAvB,CAAV,KAAwC,EAAxC,IACDG,UAAU,CAAE,gBAAeH,KAAM,EAAvB,CAAV,KAAwC,IADvC,IAEDG,UAAU,CAAE,gBAAeH,KAAM,EAAvB,CAAV,KAAwCM,SAF3C,EAGE;AACAF,QAAAA,gBAAgB,CAACG,IAAjB,CAAsB;AACpBC,UAAAA,UAAU,EAAEL,UAAU,CAAE,gBAAeH,KAAM,EAAvB,CADF;AAEpBS,UAAAA,OAAO,EAAEN,UAAU,CAAE,aAAYH,KAAM,EAApB;AAFC,SAAtB;AAID;AACF;;AACD,WAAOI,gBAAP;AACD,GAhBD;;AAkBA,QAAMM,QAAQ,GAAG,CAAjB;AACA,QAAMC,cAAc,GAAGT,iBAAiB,CAACtD,YAAD,CAAxC;;AAEA,QAAMgE,qBAAqB,GAAG,MAAM;AAClC,QAAI,CAAClE,aAAL,EAAoB;AAClB,UAAIQ,QAAQ,CAACW,QAAT,CAAkB,SAAlB,CAAJ,EAAkC;AAChC,YAAI,CAACF,oBAAL,EAA2B;AACzBF,UAAAA,YAAY,CAACqC,OAAb,CAAqB,mBAArB,EACEvC,IAAI,CAACwC,SAAL,CAAe;AAAE5B,YAAAA,KAAK,EAAE;AAAE,eAACvB,YAAY,CAAC4B,MAAd,GAAuBmC;AAAzB;AAAT,WAAf,CADF;AAED,SAHD,MAGO;AACLlD,UAAAA,YAAY,CAACqC,OAAb,CAAqB,mBAArB,EACEvC,IAAI,CAACwC,SAAL,CAAe,EAAE,GAAGpC,oBAAL;AACbQ,YAAAA,KAAK,EAAE,EAAE,GAAGR,oBAAoB,CAACQ,KAA1B;AACL,eAACvB,YAAY,CAAC4B,MAAd,GAAuBmC;AADlB;AADM,WAAf,CADF;AAID;AACF,OAVD,MAUO,IAAI,CAAChD,oBAAL,EAA2B;AAChCF,QAAAA,YAAY,CAACqC,OAAb,CAAqB,mBAArB,EACEvC,IAAI,CAACwC,SAAL,CAAe;AAAEjB,UAAAA,SAAS,EAAE;AAAE,aAAClC,YAAY,CAACiC,OAAd,GAAwB8B;AAA1B;AAAb,SAAf,CADF;AAED,OAHM,MAGA;AACLlD,QAAAA,YAAY,CAACqC,OAAb,CAAqB,mBAArB,EACEvC,IAAI,CAACwC,SAAL,CAAe,EAAE,GAAGpC,oBAAL;AACbmB,UAAAA,SAAS,EAAE,EAAE,GAAGnB,oBAAoB,CAACmB,SAA1B;AACT,aAAClC,YAAY,CAACiC,OAAd,GAAwB8B;AADf;AADE,SAAf,CADF;AAID;AACF;;AACDvD,IAAAA,OAAO,CAACmD,IAAR,CAAc,GAAErD,QAAS,cAAzB;AACD,GAvBD;;AAyBA,QAAM2D,eAAe,GAAG,MAAM;AAC5B,UAAMC,IAAI,GAAG,CAAb;AACA,UAAMC,OAAO,GAAG,CAAC,CAAjB;AACA,QAAIC,QAAQ,GAAG,EAAf;;AACA,QAAI9D,QAAQ,CAAC+D,MAAT,CAAgB/D,QAAQ,CAACgE,MAAT,GAAkB,CAAlC,MAAyC,GAA7C,EAAkD;AAChDF,MAAAA,QAAQ,GAAI,wBAAuB9D,QAAQ,CAACiE,KAAT,CAAeL,IAAf,EAAqBC,OAArB,CAA8B,EAAjE;AACD,KAFD,MAEO;AACLC,MAAAA,QAAQ,GAAI,wBAAuB9D,QAAS,EAA5C;AACD;;AACD,UAAMkE,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAApB;AACAF,IAAAA,WAAW,CAACG,KAAZ,GAAoBP,QAApB;AACAI,IAAAA,WAAW,CAACI,YAAZ,CAAyB,UAAzB,EAAqC,EAArC;AACAJ,IAAAA,WAAW,CAACK,KAAZ,CAAkBC,QAAlB,GAA6B,UAA7B;AACAN,IAAAA,WAAW,CAACK,KAAZ,CAAkBE,IAAlB,GAAyB,SAAzB;AACAN,IAAAA,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BT,WAA1B;AACAA,IAAAA,WAAW,CAACU,MAAZ;AACAT,IAAAA,QAAQ,CAACU,WAAT,CAAqB,MAArB;AACAV,IAAAA,QAAQ,CAACO,IAAT,CAAcI,WAAd,CAA0BZ,WAA1B;AACA,UAAMa,QAAQ,GAAGZ,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAjB;AACAW,IAAAA,QAAQ,CAACC,SAAT,GAAqB,eAArB;AACAb,IAAAA,QAAQ,CAACc,aAAT,CAAuB,aAAvB,EAAsCN,WAAtC,CAAkDI,QAAlD;AACD,GArBD;;AAuBA,QAAMG,0BAA0B,GAAG,OAAO;AAAEC,IAAAA;AAAF,GAAP,KAAsB;AACvD,QAAIA,MAAM,CAACC,GAAP,KAAe,MAAnB,EAA2B;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACC,GAAnB;AACAlF,MAAAA,OAAO,CAACmD,IAAR,CAAc,YAAW8B,MAAM,CAAC9D,EAAG,EAAnC;AACD,KAHD,MAGO;AACLgE,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACC,GAAnB;AACAlF,MAAAA,OAAO,CAACmD,IAAR,CAAc,YAAW8B,MAAM,CAAC9D,EAAG,EAAnC;AACD;AACF,GARD;;AAUA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIzB,UAAD,gBAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAf,gBAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACII,QAAQ,CAACW,QAAT,CAAkB,SAAlB,CAAD,gBACC;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAGjB,YAAY,CAAC8C,YADrB;AAEE,IAAA,SAAS,EAAC,kBAFZ;AAGE,IAAA,GAAG,EAAC,MAHN;AAIE,mBAAY,cAJd,CAKE;AALF;AAME,IAAA,KAAK,EAAC,OANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eASE;AAAI,mBAAY,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiC9C,YAAY,CAAC4C,OAA9C,CATF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,mBAAY,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoC5C,YAAY,CAACyC,WAAjD,CADF,eAEE;AAAS,IAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAGoD,SADR;AAEE,IAAA,GAAG,EAAC,OAFN;AAGE,mBAAY,WAHd;AAIE,IAAA,EAAE,EAAC,WAJL;AAKE,IAAA,OAAO,EAAG5B,eALZ;AAME,mBAAY,MANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eASE;AACE,IAAA,GAAG,EAAG7D,cAAc,GAAG0F,cAAH,GAAoBC,cAD1C;AAEE,IAAA,GAAG,EAAC,UAFN;AAGE,mBAAY,cAHd;AAIE,IAAA,OAAO,EAAG5D,qBAJZ;AAKE,mBAAY,MALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CAFF,CAVF,eA+BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA/BF,eAgCE;AAAS,IAAA,SAAS,EAAC,kBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG4B,cAAc,CAACiC,GAAf,CAAmB,CAACpC,UAAD,EAAaR,KAAb,kBAClB;AACE,mBAAe,GAAEA,KAAM,8BADzB;AAEE,IAAA,GAAG,EAAGA,KAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII,KAAIQ,UAAU,CAACA,UAAW,KAAKA,UAAU,CAACC,OAAX,KAAuB,IAAxB,GAC5B,SAD4B,GAE5BD,UAAU,CAACC,OAAQ,EANzB,CADD,CADH,CAhCF,eA4CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBA5CF,eA6CE;AACE,mBAAY,cADd;AAEE,IAAA,SAAS,EAAC,kBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII7D,YAAY,CAACiG,eAJjB,CA7CF,eAoDE;AAAO,mBAAY,OAAnB;AAA2B,IAAA,KAAK,EAAC,KAAjC;AAAuC,IAAA,MAAM,EAAC,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,OAAO,MADT;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,OAAO,EAAC,OAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AAAQ,IAAA,GAAG,EAAGjG,YAAY,CAACkG,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CApDF,eA4DE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAEGtG,OAAO,CAACoG,GAAR,CAAY,CAACG,MAAD,EAAS/C,KAAT,kBACX;AAAK,IAAA,GAAG,EAAGA,KAAX;AAAmB,mBAAe,GAAEA,KAAM,qBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAM+C,MAAM,CAACpD,YAAb,CADF,eAEE;AACE,mBAAe,GAAEK,KAAM,sBADzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI+C,MAAM,CAACnD,QAHX,CAFF,eAOE;AACE,IAAA,GAAG,EAAGmD,MAAM,CAAClD,aADf;AAEE,IAAA,GAAG,EAAC,OAFN;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,EAAE,EAAGkD,MAAM,CAAClE,OAJd;AAKE,IAAA,OAAO,EAAGuD,0BALZ;AAME,mBAAY,MANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADD,EAiBEY,MAjBF,CAiBS,CAACC,CAAD,EAAIjD,KAAJ,KAAcA,KAAK,GAAGU,QAjB/B,CAFH,CA5DF,CADD,gBAoFC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,WADZ;AAEE,IAAA,GAAG,EAAG9D,YAAY,CAACiD,aAFrB;AAGE,IAAA,GAAG,EAAC,OAHN;AAIE,mBAAY,cAJd;AAKE,IAAA,KAAK,EAAC,OALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE;AAAS,IAAA,SAAS,EAAC,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAG4C,SADR;AAEE,IAAA,GAAG,EAAC,OAFN;AAGE,mBAAY,WAHd;AAIE,IAAA,EAAE,EAAC,WAJL;AAKE,IAAA,OAAO,EAAG5B,eALZ;AAME,mBAAY,MANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eASE;AACE,IAAA,GAAG,EAAG7D,cAAc,GAAG0F,cAAH,GAAoBC,cAD1C;AAEE,IAAA,GAAG,EAAC,UAFN;AAGE,mBAAY,cAHd;AAIE,IAAA,OAAO,EAAG5D,qBAJZ;AAKE,mBAAY,MALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CARF,eAyBE;AAAI,mBAAY,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCnC,YAAY,CAACgD,QAA9C,CAzBF,eA0BE;AAAI,mBAAY,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoChD,YAAY,CAAC+C,YAAjD,CA1BF,EA2BGgB,cAAc,CAACiC,GAAf,CAAmB,CAACpC,UAAD,EAAaR,KAAb,kBAClB;AACE,mBAAe,GAAEA,KAAM,8BADzB;AAEE,IAAA,GAAG,EAAGA,KAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII,GAAEQ,UAAU,CAACA,UAAW,KAAKA,UAAU,CAACC,OAAX,KAAuB,IAAxB,GAC1B,SAD0B,GAE1BD,UAAU,CAACC,OAAQ,EANzB,CADD,CA3BH,eAqCE;AAAG,mBAAY,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgC7D,YAAY,CAACiG,eAA7C,CArCF,eAsCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAEGrG,OAAO,CAACoG,GAAR,CAAY,CAACG,MAAD,EAAS/C,KAAT,kBACX;AAAK,IAAA,GAAG,EAAGA,KAAX;AAAmB,mBAAe,GAAEA,KAAM,qBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAM+C,MAAM,CAAC1D,WAAb,CADF,eAEE;AACE,mBAAe,GAAEW,KAAM,sBADzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI+C,MAAM,CAACvD,OAHX,CAFF,eAOE;AACE,IAAA,SAAS,EAAC,aADZ;AAEE,IAAA,GAAG,EAAGuD,MAAM,CAACrD,YAFf;AAGE,IAAA,GAAG,EAAC,MAHN;AAIE,IAAA,EAAE,EAAGqD,MAAM,CAACvE,MAJd;AAKE,IAAA,KAAK,EAAC,MALR;AAME,IAAA,OAAO,EAAG4D,0BANZ;AAOE,mBAAY,MAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADD,EAkBEY,MAlBF,CAkBS,CAACC,CAAD,EAAIjD,KAAJ,KAAcA,KAAK,GAAGU,QAlB/B,CAFH,CAtCF,CArFJ,eAmJE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,mBAAY,kBAFd;AAGE,IAAA,SAAS,EAAC,QAHZ;AAIE,IAAA,OAAO,EAAGE,qBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGlE,aAAa,GAAG,mBAAH,GAAyB,iBANzC,CADF,CAnJF,CAHN,CADF;AAqKD;;AAED,eAAeH,aAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useLocation, useHistory, useParams } from 'react-router-dom';\nimport ContextRecipes from '../context/ContextRecipes';\nimport { fetchAPIDrinks, fetchAPIRecipes } from '../services';\nimport shareIcon from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport '../styles/details.css';\n\nfunction RecipeDetails() {\n  const {\n    recipes,\n    setRecipes,\n    recipeStarted,\n    setRecipeStart,\n  } = useContext(ContextRecipes);\n  const [singleRecipe, setSingleRecipe] = useState([]);\n  const [isFetching, setFetching] = useState(true);\n  const [favoriteRecipe, setFavoriteRecipe] = useState(false);\n  const location = useLocation().pathname;\n  const history = useHistory();\n  const { idRecipe } = useParams();\n  const localStorageFavs = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  const localStorageProgress = JSON.parse(localStorage.getItem('inProgressRecipes'));\n\n  const fetchDetailedRecipe = async () => {\n    if (location.includes('comidas')) {\n      const data = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${idRecipe}`);\n      const responseJSON = await data.json();\n      const mealRecipe = responseJSON.meals;\n      setSingleRecipe(mealRecipe[0]);\n      const recipesRecomend = await fetchAPIDrinks('name', '');\n      setRecipes(recipesRecomend);\n      if (localStorageFavs) {\n        localStorageFavs.forEach((item) => {\n          if (item.id === mealRecipe[0].idMeal) {\n            setFavoriteRecipe(true);\n          }\n        });\n      }\n\n      if (localStorageProgress && localStorageProgress.meals) {\n        Object.keys(localStorageProgress.meals).forEach((item) => {\n          if (item === mealRecipe[0].idMeal) {\n            setRecipeStart(true);\n          }\n        });\n      }\n    } else {\n      const data = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${idRecipe}`);\n      const responseJSON = await data.json();\n      const drinkRecipe = responseJSON.drinks;\n      setSingleRecipe(drinkRecipe[0]);\n      const recipesRecomend = await fetchAPIRecipes('name', '');\n      setRecipes(recipesRecomend);\n      if (localStorageFavs) {\n        localStorageFavs.forEach((item) => {\n          if (item.id === drinkRecipe[0].idDrink) {\n            setFavoriteRecipe(true);\n          }\n        });\n      }\n\n      if (localStorageProgress && localStorageProgress.cocktails) {\n        Object.keys(localStorageProgress.cocktails).forEach((item) => {\n          if (item === drinkRecipe[0].idDrink) {\n            setRecipeStart(true);\n          }\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    setFetching(true);\n    fetchDetailedRecipe();\n    setFetching(false);\n  }, []);\n\n  const handleFavoriteRecipes = () => {\n    let newFavRecipe = {};\n    if (location.includes('comidas')) {\n      newFavRecipe = {\n        id: singleRecipe.idMeal,\n        type: 'comida',\n        area: singleRecipe.strArea,\n        category: singleRecipe.strCategory,\n        alcoholicOrNot: '',\n        name: singleRecipe.strMeal,\n        image: singleRecipe.strMealThumb,\n      };\n    } else {\n      newFavRecipe = {\n        id: singleRecipe.idDrink,\n        type: 'bebida',\n        area: '',\n        category: singleRecipe.strCategory,\n        alcoholicOrNot: singleRecipe.strAlcoholic,\n        name: singleRecipe.strDrink,\n        image: singleRecipe.strDrinkThumb,\n      };\n    }\n    if (!favoriteRecipe) {\n      if (!localStorageFavs) {\n        localStorage.setItem('favoriteRecipes', JSON.stringify([newFavRecipe]));\n      } else {\n        localStorage.setItem('favoriteRecipes',\n          JSON.stringify([...localStorageFavs, newFavRecipe]));\n      }\n      setFavoriteRecipe(true);\n    } else {\n      localStorageFavs.forEach((item, index) => {\n        if (item.id === newFavRecipe.id) {\n          localStorageFavs.splice(index, 1);\n          localStorage.setItem('favoriteRecipes', JSON.stringify(localStorageFavs));\n        }\n      });\n      setFavoriteRecipe(false);\n    }\n  };\n\n  const renderIngredients = (recipeData) => {\n    const arrayIngredients = [];\n    const maxIngredients = 20;\n\n    for (let index = 1; index <= maxIngredients; index += 1) {\n      if (recipeData[`strIngredient${index}`] !== ''\n      && recipeData[`strIngredient${index}`] !== null\n      && recipeData[`strIngredient${index}`] !== undefined\n      ) {\n        arrayIngredients.push({\n          ingredient: recipeData[`strIngredient${index}`],\n          measure: recipeData[`strMeasure${index}`],\n        });\n      }\n    }\n    return arrayIngredients;\n  };\n\n  const maxCards = 6;\n  const allIngredients = renderIngredients(singleRecipe);\n\n  const handleProgressRecipes = () => {\n    if (!recipeStarted) {\n      if (location.includes('comidas')) {\n        if (!localStorageProgress) {\n          localStorage.setItem('inProgressRecipes',\n            JSON.stringify({ meals: { [singleRecipe.idMeal]: allIngredients } }));\n        } else {\n          localStorage.setItem('inProgressRecipes',\n            JSON.stringify({ ...localStorageProgress,\n              meals: { ...localStorageProgress.meals,\n                [singleRecipe.idMeal]: allIngredients } }));\n        }\n      } else if (!localStorageProgress) {\n        localStorage.setItem('inProgressRecipes',\n          JSON.stringify({ cocktails: { [singleRecipe.idDrink]: allIngredients } }));\n      } else {\n        localStorage.setItem('inProgressRecipes',\n          JSON.stringify({ ...localStorageProgress,\n            cocktails: { ...localStorageProgress.cocktails,\n              [singleRecipe.idDrink]: allIngredients } }));\n      }\n    }\n    history.push(`${location}/in-progress`);\n  };\n\n  const handleShareIcon = () => {\n    const zero = 0;\n    const menosUm = -1;\n    let fullPath = '';\n    if (location.substr(location.length - 1) === '/') {\n      fullPath = `http://localhost:3000${location.slice(zero, menosUm)}`;\n    } else {\n      fullPath = `http://localhost:3000${location}`;\n    }\n    const tempElement = document.createElement('textarea');\n    tempElement.value = fullPath;\n    tempElement.setAttribute('readonly', '');\n    tempElement.style.position = 'absolute';\n    tempElement.style.left = '-9999px';\n    document.body.appendChild(tempElement);\n    tempElement.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempElement);\n    const linkCopy = document.createElement('p');\n    linkCopy.innerHTML = 'Link copiado!';\n    document.querySelector('.icons-area').appendChild(linkCopy);\n  };\n\n  const handleRecomendatioNRecipes = async ({ target }) => {\n    if (target.alt === 'food') {\n      console.log(target.alt);\n      history.push(`/comidas/${target.id}`);\n    } else {\n      console.log(target.alt);\n      history.push(`/bebidas/${target.id}`);\n    }\n  };\n\n  return (\n    <div className=\"details-card\">\n      {(isFetching) ? <h2>Carregando receita...</h2>\n        : (\n          <div>\n            {(location.includes('comidas')) ? (\n              <div className=\"details-container\">\n                <img\n                  src={ singleRecipe.strMealThumb }\n                  className=\"img-card-details\"\n                  alt=\"food\"\n                  data-testid=\"recipe-photo\"\n                  // className=\"box-card\"\n                  width=\"200px\"\n                />\n                <h3 data-testid=\"recipe-title\">{ singleRecipe.strMeal }</h3>\n                <div>\n                  <h4 data-testid=\"recipe-category\">{ singleRecipe.strCategory }</h4>\n                  <section className=\"icons-area\">\n                    <img\n                      src={ shareIcon }\n                      alt=\"Share\"\n                      data-testid=\"share-btn\"\n                      id=\"share-btn\"\n                      onClick={ handleShareIcon }\n                      aria-hidden=\"true\"\n                    />\n                    <img\n                      src={ favoriteRecipe ? blackHeartIcon : whiteHeartIcon }\n                      alt=\"Favorite\"\n                      data-testid=\"favorite-btn\"\n                      onClick={ handleFavoriteRecipes }\n                      aria-hidden=\"true\"\n                    />\n                  </section>\n\n                </div>\n                <h5> Ingredients </h5>\n                <section className=\"ingredients-area\">\n                  {allIngredients.map((ingredient, index) => (\n                    <p\n                      data-testid={ `${index}-ingredient-name-and-measure` }\n                      key={ index }\n                    >\n                      {`- ${ingredient.ingredient}: ${(ingredient.measure === null)\n                        ? 'a gosto'\n                        : ingredient.measure}`}\n                    </p>\n                  ))}\n                </section>\n                <h5> Instructions </h5>\n                <p\n                  data-testid=\"instructions\"\n                  className=\"ingredients-area\"\n                >\n                  { singleRecipe.strInstructions }\n\n                </p>\n                <video data-testid=\"video\" width=\"320\" height=\"240\">\n                  <track\n                    default\n                    kind=\"captions\"\n                    srcLang=\"pt-br\"\n                  />\n                  <source src={ singleRecipe.strYoutube } />\n                </video>\n                <section>\n                  Recomendações:\n                  {recipes.map((recipe, index) => (\n                    <div key={ index } data-testid={ `${index}-recomendation-card` }>\n                      <h5>{ recipe.strAlcoholic }</h5>\n                      <h4\n                        data-testid={ `${index}-recomendation-title` }\n                      >\n                        { recipe.strDrink }\n                      </h4>\n                      <img\n                        src={ recipe.strDrinkThumb }\n                        alt=\"drink\"\n                        width=\"50px\"\n                        id={ recipe.idDrink }\n                        onClick={ handleRecomendatioNRecipes }\n                        aria-hidden=\"true\"\n                      />\n                    </div>\n                  )).filter((_, index) => index < maxCards)}\n                </section>\n              </div>\n            ) : (\n              <div>\n                <img\n                  className=\"img-grink\"\n                  src={ singleRecipe.strDrinkThumb }\n                  alt=\"drink\"\n                  data-testid=\"recipe-photo\"\n                  width=\"200px\"\n                />\n                <section className=\"icons-area\">\n                  <img\n                    src={ shareIcon }\n                    alt=\"Share\"\n                    data-testid=\"share-btn\"\n                    id=\"share-btn\"\n                    onClick={ handleShareIcon }\n                    aria-hidden=\"true\"\n                  />\n                  <img\n                    src={ favoriteRecipe ? blackHeartIcon : whiteHeartIcon }\n                    alt=\"Favorite\"\n                    data-testid=\"favorite-btn\"\n                    onClick={ handleFavoriteRecipes }\n                    aria-hidden=\"true\"\n                  />\n                </section>\n                <h3 data-testid=\"recipe-title\">{ singleRecipe.strDrink }</h3>\n                <h4 data-testid=\"recipe-category\">{ singleRecipe.strAlcoholic }</h4>\n                {allIngredients.map((ingredient, index) => (\n                  <p\n                    data-testid={ `${index}-ingredient-name-and-measure` }\n                    key={ index }\n                  >\n                    {`${ingredient.ingredient}: ${(ingredient.measure === null)\n                      ? 'a gosto'\n                      : ingredient.measure}`}\n                  </p>\n                ))}\n                <p data-testid=\"instructions\">{ singleRecipe.strInstructions }</p>\n                <section>\n                  Recomendações:\n                  {recipes.map((recipe, index) => (\n                    <div key={ index } data-testid={ `${index}-recomendation-card` }>\n                      <h5>{ recipe.strCategory }</h5>\n                      <h4\n                        data-testid={ `${index}-recomendation-title` }\n                      >\n                        { recipe.strMeal }\n                      </h4>\n                      <img\n                        className=\"recipe-food\"\n                        src={ recipe.strMealThumb }\n                        alt=\"food\"\n                        id={ recipe.idMeal }\n                        width=\"50px\"\n                        onClick={ handleRecomendatioNRecipes }\n                        aria-hidden=\"true\"\n                      />\n                    </div>\n                  )).filter((_, index) => index < maxCards)}\n                </section>\n              </div>\n            )}\n            <section>\n              <button\n                type=\"button\"\n                data-testid=\"start-recipe-btn\"\n                className=\"footer\"\n                onClick={ handleProgressRecipes }\n              >\n                {recipeStarted ? 'Continuar Receita' : 'Iniciar Receita'}\n              </button>\n            </section>\n          </div>\n        )}\n    </div>\n  );\n}\n\nexport default RecipeDetails;\n"]},"metadata":{},"sourceType":"module"}